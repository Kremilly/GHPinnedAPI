# ghPinnedAPI

Get your pinned repositories api

## To locally execute the project

Clone this repository:

```shell
git clone https://github.com/kremilly/ghPinnedAPI
```

Install the dependencies:

```shell
pip install -r requirements.txt
```

To run the server, use:

```shell
python index.py
```

To run the project locally, you'll need to create a `.env` file in the project's root directory with the following variable: `GH_TOKEN`, and its value should be your GitHub access token. To obtain the token, please access this [link](https://docs.github.com/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens).

Example of `.env` file

```.env
GH_TOKEN=YOUR_GITHUB_TOKEN
```

## Using the api on your project

If you want to add your pinned repositories to your portfolio or website and can't find an API that works for this, then your problems are over. I've created an API that does exactly that, and its usage is extremely easy. Simply pass your GitHub username as a query parameter.

### Example of request

```shell
https://gh-pin.kremilly.com/api?user=YOUR_USERNAME
```

> [!note]
> *Replace `YOUR_USERNAME` with your GitHub username*

> [!note]
> *We request the use of the new endpoint; however, the old one is still operational.*

### A simple example of use in JavaScript

```javascript
// Replace "kremilly" for your GitHub username
fetch('https://gh-pin.kremilly.com/api?user=kremilly').then(
   json => json.json()
).then(callback => { 
   console.log(callback) 
})
```

> [!note]
> *The API will return a JSON with all your pinned repositories (if any; otherwise, it will return an empty JSON)*

> [!note]
> *See [here](https://github.com/kremilly/ghPinnedAPI/tree/main/examples) others examples in others languages and using Axios.js*

#### Simple output of request:

```json
{
    "description": "Get your pinned repositories api",
    "forks": 0,
    "home": "https://gh-pin.kremilly.com",
    "languages": [
      "Python",
      "HTML"
    ],
    "name": "ghPinnedAPI",
    "stars": 1,
    "tags": [
      "api",
      "github",
      "python",
      "github-pinned-api"
    ],
    "url": "https://github.com/kremilly/ghPinnedAPI"
  }
```

### Queries Parameters

* `user` Set the username

### Data returned by the API

* `name` Repository name (required)
* `description` Repository description (optional)
* `home` Repository home URL (optional)
* `url` Repository url on GitHub (generated by GitHub)
* `stars` Repository stars amount (default is `0`)
* `forks` Repository forks amount (default is `0`)
* `languages` Repository languages (generated by GitHub)
* `tags` Repository topics on GitHub (optional)

## Possible messages knowning

* The user does not have any pinned repositores (Status code: 200)
* User does not exist on GitHub (Status code: 404)
* Error fetching pinned repositories (Status code: 500)

## Dependencies

* Python
* Flask
* GraphQL
* requests
* python-dotenv
